import{p}from"./chunk-DHX7K3SC.js";import{a as m,ea as T}from"./chunk-QNRVJAY6.js";var a=class{constructor(t=0,r="Network Error"){this.status=t,this.text=r}};var R=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}};var o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:R()};var c=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{};var S=(e,t="https://api.emailjs.com")=>{if(!e)return;let r=c(e);o.publicKey=r.publicKey,o.blockHeadless=r.blockHeadless,o.storageProvider=r.storageProvider,o.blockList=r.blockList,o.limitRate=r.limitRate,o.origin=r.origin||t};var d=async(e,t,r={})=>{let s=await fetch(o.origin+e,{method:"POST",headers:r,body:t}),i=await s.text(),n=new a(s.status,i);if(s.ok)return n;throw n};var f=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var H=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var u=e=>e.webdriver||!e.languages||e.languages.length===0;var b=()=>new a(451,"Unavailable For Headless Browser");var E=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"};var D=e=>!e.list?.length||!e.watchVariable,O=(e,t)=>e instanceof FormData?e.get(t):e[t],h=(e,t)=>{if(D(e))return!1;E(e.list,e.watchVariable);let r=O(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)};var g=()=>new a(403,"Forbidden");var F=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"};var M=async(e,t,r)=>{let s=Number(await r.get(e)||0);return t-Date.now()+s},y=async(e,t,r)=>{if(!t.throttle||!r)return!1;F(t.throttle,t.id);let s=t.id||e;return await M(s,t.throttle,r)>0?!0:(await r.set(s,Date.now().toString()),!1)};var v=()=>new a(429,"Too Many Requests");var I=async(e,t,r,s)=>{let i=c(s),n=i.publicKey||o.publicKey,w=i.blockHeadless||o.blockHeadless,k=i.storageProvider||o.storageProvider,P=m(m({},o.blockList),i.blockList),j=m(m({},o.limitRate),i.limitRate);return w&&u(navigator)?Promise.reject(b()):(f(n,e,t),H(r),r&&h(P,r)?Promise.reject(g()):await y(location.pathname,j,k)?Promise.reject(v()):d("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))};var K=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var _=e=>typeof e=="string"?document.querySelector(e):e,V=async(e,t,r,s)=>{let i=c(s),n=i.publicKey||o.publicKey,w=i.blockHeadless||o.blockHeadless,k=o.storageProvider||i.storageProvider,P=m(m({},o.blockList),i.blockList),j=m(m({},o.limitRate),i.limitRate);if(w&&u(navigator))return Promise.reject(b());let x=_(r);f(n,e,t),K(x);let l=new FormData(x);return h(P,l)?Promise.reject(g()):await y(location.pathname,j,k)?Promise.reject(v()):(l.append("lib_version","4.4.1"),l.append("service_id",e),l.append("template_id",t),l.append("user_id",n),d("/api/v1.0/email/send-form",l))};var L={init:S,send:I,sendForm:V,EmailJSResponseStatus:a};var B=class e{#e=p.config.emailjs.publicKey;#t=p.config.emailjs.serviceID;#r=p.config.emailjs.careersTemplateID;#o=p.config.emailjs.contactTemplateID;sendCareerMail(t){return L.sendForm(this.#t,this.#r,t,{publicKey:this.#e})}sendContactMail(t){return L.sendForm(this.#t,this.#o,t,{publicKey:this.#e})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};export{B as a};
